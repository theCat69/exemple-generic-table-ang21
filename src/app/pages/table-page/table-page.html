<main>
  <div class="card">
    <app-table [datas]="elementData">
      <app-table-toolbar>
        <ng-template let-elems let-displayedColumns="displayedColumns">
          <button mat-button (click)="globalAction(elems())">globale action !</button>
          <button mat-button (click)="displayedColumnsLog(displayedColumns())">
            displayd columns!
          </button>
        </ng-template>
      </app-table-toolbar>

      <app-column prop="name" label="NameLabel" sortable
      width="40%"
      >
        <ng-template #cell let-elem>
          {{ elem().name }}
        </ng-template>
      </app-column>

      <app-column prop="position" sortable />

      <app-column prop="weight|symbol" styleHeaderBgColor="green">
        <ng-template #cellHeader> Weigth and symbols </ng-template>
        <ng-template #cell let-elem>
          <div class="flex-container">
            <div [style]="{ 'background-color': 'blue' }">
              {{ elem().weight }}
            </div>
            <div>
              {{ elem().symbol }}
            </div>
          </div>
        </ng-template>
      </app-column>

      <app-predefined-template prop="symbol" />

      <app-column prop="subElem" [valueAccessor]="subElemntAccessor" sortable />

      <app-column prop="action" styleHeaderBgColor="cyan" [draggable]="false" maxWidth="180px">
        <ng-template
          #cell
          let-elem
          let-activateEdit="activateEdit"
          let-saveEdit="saveEdit"
          let-cancelEdit="cancelEdit"
        >
          <div class="flex-container">
            <button mat-button (click)="myAction(elem)">action !</button>
            <button mat-button (click)="modifyElem(elem)">modify elem</button>
            <button mat-button (click)="rollback(elem)" [disabled]="!elem().modified">
              rollback elem
            </button>
            <app-edit-button-tray
              [elem]="elem()"
              (activateEdit)="activateEdit($event)"
              (saveEdit)="saveEdit($event)"
              (cancelEdit)="cancelEdit($event)"
            />
          </div>
        </ng-template>
      </app-column>
    </app-table>
  </div>
</main>
